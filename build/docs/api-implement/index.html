<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-api-implement" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">API | GreenLeaze documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.greenleaze.com/img/greenleaze-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.greenleaze.com/img/greenleaze-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.greenleaze.com/docs/api-implement"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="API | GreenLeaze documentation"><meta data-rh="true" name="description" content="The REST API makes it able to retrieve prices rules from GreenLeaze, create an order and then follow the order status."><meta data-rh="true" property="og:description" content="The REST API makes it able to retrieve prices rules from GreenLeaze, create an order and then follow the order status."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.greenleaze.com/docs/api-implement"><link data-rh="true" rel="alternate" href="https://docs.greenleaze.com/docs/api-implement" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.greenleaze.com/docs/api-implement" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.4be821f2.css">
<script src="/assets/js/runtime~main.e8d7cfa3.js" defer="defer"></script>
<script src="/assets/js/main.4365e327.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="GreenLeaze logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="GreenLeaze logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Before you start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/api-implement">Implement with the API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/shopify-implement">Implement with Shopify</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/tutorial-prestashop/soon">Implement with PrestaShop</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Implement with the API</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>API</h1>
<p>The REST API makes it able to retrieve prices rules from GreenLeaze, create an order and then follow the order status.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-the-greenleaze-payment-path-integration-works">How the GreenLeaze Payment Path Integration Works<a class="hash-link" aria-label="Direct link to How the GreenLeaze Payment Path Integration Works" title="Direct link to How the GreenLeaze Payment Path Integration Works" href="/docs/api-implement#how-the-greenleaze-payment-path-integration-works">​</a></h2>
<ol>
<li>The store retrieves the pricing rules from GreenLeaze.</li>
<li>The store displays the pricings to the custome in the way he wants to.</li>
<li>The store sends a request containing data in JSON to GreenLeaze to create an order.</li>
<li>The store redirects the customer to GreenLeaze to complete the order.</li>
<li>GreenLeaze processes the order and sends the customer back to the store.</li>
<li>The store sends a request to GreenLeaze to give the unique order id (id_commande) to finalize the order.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-authentication">API Authentication<a class="hash-link" aria-label="Direct link to API Authentication" title="Direct link to API Authentication" href="/docs/api-implement#api-authentication">​</a></h2>
<p>All requests to the API must be authenticated with an API key. The API key must be included in the <code>X-API-KEY</code> header of the request. This token is unique to your shop and must be kept secret.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pricing-rules">Pricing Rules<a class="hash-link" aria-label="Direct link to Pricing Rules" title="Direct link to Pricing Rules" href="/docs/api-implement#pricing-rules">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="get-pricing-rules">Get Pricing Rules<a class="hash-link" aria-label="Direct link to Get Pricing Rules" title="Direct link to Get Pricing Rules" href="/docs/api-implement#get-pricing-rules">​</a></h3>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET https://new.api.greenleaze.com/api/price-rules</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></summary><div><div class="collapsibleContent_i85q"><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Request response</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;id&quot;: 30,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;name&quot;: &quot;0 2000 1 mois&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;rule&quot;: &quot;(1.2* [[prixHT]] /11.9) + (1.2-[[tva]])*[[prixHT]]/11.9&quot;, // [[tva]] represent the taxes of the product - Used to calculate the monthly price</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;depositRule&quot;: &quot;(1.2* [[prixHT]] /11.9) + (1.2-[[tva]])*[[prixHT]]/11.9&quot;, // [[tva]] represent the taxes of the product - Used for first payment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;minPrice&quot;: &quot;0.00&quot;, // This is the price without taxes !</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;maxPrice&quot;: &quot;2000.00&quot;, // This is the price without taxes !</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;duration&quot;: 6 // Can be 6, 12, 18 or 24 months</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details>
<p>The request returns all rules concerning your shop. A rule applies to all products whose price is between <strong>minPrice</strong> and <strong>maxPrice</strong> and for the corresponding duration.</p>
<p>From all the rules you are able to let your customer choose his duration and the corresponding price will be calculated according to the rule. If the product is not in the range of any rule, the product is not egilageable for GreenLeaze Renting.</p>
<p><strong>Please store the rules in user session to avoid multiple requests to the API. It will improve user experience for all customers.</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="change-pricing-rules">Change Pricing Rules<a class="hash-link" aria-label="Direct link to Change Pricing Rules" title="Direct link to Change Pricing Rules" href="/docs/api-implement#change-pricing-rules">​</a></h3>
<p>You can not change the pricing rules with the API. If you need to change the pricing rules, please contact us.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="send-data-to-greenleaze">Send data to GreenLeaze<a class="hash-link" aria-label="Direct link to Send data to GreenLeaze" title="Direct link to Send data to GreenLeaze" href="/docs/api-implement#send-data-to-greenleaze">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1--send-the-order-to-paygreenleazecom">Step 1 : Send the order to pay.greenleaze.com<a class="hash-link" aria-label="Direct link to Step 1 : Send the order to pay.greenleaze.com" title="Direct link to Step 1 : Send the order to pay.greenleaze.com" href="/docs/api-implement#step-1--send-the-order-to-paygreenleazecom">​</a></h3>
<p>Once your customer has made his order on your website, you must send the order to GreenLeaze to create the order.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">POST https://pay.greenleaze.com/send-shop-order-data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></summary><div><div class="collapsibleContent_i85q"><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Request body</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;transactionId&quot;: &quot;&quot;,// (String, Required) : Random generated id. Used by pay.greenleaze.com to associate all data to the transaction_id spectified in the redirection URL of the customer.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;shop&quot;: &quot;&quot;, //(Object, Required) : Shops informations.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;urls&quot;: [], //(Object, Required) : All shop&#x27;s URL  See below for the URL format.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;shop&quot;: &quot;&quot;, // (String, Required) :  principal URL of the shop, format domain.extension (ex: amazon.fr or fnac.com).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;success&quot;: &quot;&quot;, // (String, Required) : redirection URL in case of paiement success.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;failure&quot;: &quot;&quot;, // (String, Required) : redirection URL in case of paiement failure.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;language&quot;: &quot;&quot;, // (String, Required) : Langage used by the shop - iso format (ex: fr or en).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;customer&quot;: &quot;&quot;, // (Object, Optional) : Info about the customer.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;firstName&quot;: &quot;&quot;, // (String, Optional) : Customer&#x27;s firstname.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;lastName&quot;: &quot;&quot;, // (String, Optional) : Customer&#x27;s lastname.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;company&quot;: &quot;&quot;, // (String, Optional) : Society of client, can be null.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;email&quot;: &quot;&quot;, // (String, Optional) : Email of the customer.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;deliveryOptions&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ], // (Array, Optional) : List of delivery options - See below for the delivery option format.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;addresses&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ], // (Array, Optional) : Address of the customer - See below for the address format.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;products&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ], // (Array, Required) : List of products ordered by the customer - See below for the product format.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;cartId&quot;: &quot;&quot;, // (String, Required) : Cart id.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;cartSecureKey&quot;: &quot;&quot;, // (String, Required) : Cart secure key.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;totalInitialFees&quot;: 0.00 // (Float, Required) : Initial fees : mainly delivery fees, but also assembly or file fees if any...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It is necessary to provide both a delivery address and an invoice address. In the case where they are the same, you must reverse the values of delivery and invoice by adjusting <code>true</code> and <code>false</code> respectively.</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Address format</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;country&quot;: &quot;&quot;, // (String, Required) : Country code of the address.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;company&quot;: &quot;&quot;, // (String, Optional) : Company name (can be empty).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;firstName&quot;: &quot;&quot;, // (String, Required) : First name associated with the address.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;lastName&quot;: &quot;&quot;, // (String, Required) : Last name associated with the address.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;street&quot;: &quot;&quot;, // (String, Required) : Street of the address.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;postCode&quot;: &quot;&quot;, // (String, Required) : Postal code of the address.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;city&quot;: &quot;&quot;, // (String, Required) : City of the address.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;phone&quot;: &quot;&quot;, // (String, Required) : Phone number associated with the address.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;delivery&quot;: true, // (Boolean, Required) : Indicates if the address is for delivery.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;invoice&quot;: false // (Boolean, Required) : Indicates if the address is for billing.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Product format</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;: &quot;&quot;, // (String, Required) : Name of the product.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;unitPrice&quot;: 0, // (Integer, Required) : Unit price of the product. Without taxes !</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;vat&quot;: 0, // (Integer, Required) : VAT applicable on the product.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;quantity&quot;: 0, // (Integer, Required) : Quantity ordered of the product.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;combination&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;name&quot;: &quot;&quot; // (String, Required) : Description of the combination. If single product without declination put the product name.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;imageUrl&quot;: &quot;&quot;, // (String, Required) : URL of the product image.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;disabled&quot;: false, // (Boolean, Required) : Indicates if the product is disabled for GreenLeaze Renting, if true the product will be payed in one time on GreenLeaze.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;id&quot;: &quot;&quot; // (String, Optional) : Id of the product, will be used to delete One unit of the product from the recap of the order.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Delivery option format</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;id&quot;: &quot;&quot;, // (String, Required) : Id of the delivery option.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;: &quot;&quot;, // (String, Required) : Name of the delivery option.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;price&quot;: 0, // (Integer, Required) : Price of the delivery option.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;description&quot;: &quot;&quot; // (String, optional) : Description of the delivery option.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Urls format</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;failure&quot;: &quot;&quot;, // (String, Required) : Url where the customer will be redirected in case of payment failure.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;success&quot;: &quot;&quot;, // (String, Required) : Url called with POST in case of success and where the user is redirected after</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;sendData&quot;: &quot;&quot;, // (String, Optional) : Url called with PATCH (with the json data) to send the customer data before the end of the payment process.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;deleteProduct&quot;: &quot;&quot; // (String, optional) : Url call with PATCH (with the json data) to delete one unit of a the product with the id specified in the product format. You must specify the id of the product in the product format to use it.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note : The delivery options are optional but allows you to display the delivery options on the GreenLeaze payment page, GreenLeaze will only store the final delivery price.</p></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2--redirect-the-customer-to-paygreenleazecom">Step 2 : Redirect the customer to pay.greenleaze.com<a class="hash-link" aria-label="Direct link to Step 2 : Redirect the customer to pay.greenleaze.com" title="Direct link to Step 2 : Redirect the customer to pay.greenleaze.com" href="/docs/api-implement#step-2--redirect-the-customer-to-paygreenleazecom">​</a></h3>
<p>Once the order has been sent to GreenLeaze, you must redirect the customer to the GreenLeaze payment page, the previous request will return the URL to redirect the customer.
You must redirect the customer to the URL returned by the previous request.</p>
<p><code>POST https://pay.greenleaze.com/order/step-1?transaction_id={transactionId}&amp;duration={duration}</code>
Be sure to replace <code>{transactionId}</code> by the transactionId you have sent in the previous request.
The <code>duration</code> parameter is the duration of the rental in months, it is optional but ables to preselect the duration on the GreenLeaze payment page.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3--send-back-the-order-id-to-greenleaze">Step 3 : Send back the order id to GreenLeaze<a class="hash-link" aria-label="Direct link to Step 3 : Send back the order id to GreenLeaze" title="Direct link to Step 3 : Send back the order id to GreenLeaze" href="/docs/api-implement#step-3--send-back-the-order-id-to-greenleaze">​</a></h3>
<p>Once the customer has completed the payment, he will be redirected to the (success) URL you have provided in the request to create the order.
A post request will be sent to the (success) URL with the following parameters :</p>
<ul>
<li><code>number-of-months</code> : Indicates the duration of the rental in months. This information allows you to define the appropriate status for the order on your shop, such as &quot;GreenLeaze Rent 24 months&quot;.</li>
<li><code>cart-secure-key</code> : Unique identifier of the cart or order, which you will have included in the JSON data sent. This identifier, which is unknown to the customer, must match exactly the one recorded on your shop to avoid fraudulent validation of the order. In case of divergence between the cart-secure-key sent and the one received, the order should not be validated.</li>
<li><code>cart-id</code> : Used to validate the order with reference to the cart ID.</li>
<li><code>greenleaze-subscription-id</code> : This identifier will be necessary to communicate to the API the order number generated on your shop. <strong>Use the endpoint <code>/api/subscriptions/{id}</code> with the PATCH method to update the order <code>shopOrderId</code>.</strong></li>
</ul>
<p>then the customer will be redirected on the same Url (GET request with no parameters except the greenleaze-subscription-id)</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ressources">Ressources<a class="hash-link" aria-label="Direct link to Ressources" title="Direct link to Ressources" href="/docs/api-implement#ressources">​</a></h2>
<p>Here is a JSON file exemple for step 2 : <a href="/assets/files/exemple-b8199695df1d27c747a0b6b01927e9aa.json" target="_blank">download</a></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Before you start</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/shopify-implement"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Implement with Shopify</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/api-implement#how-the-greenleaze-payment-path-integration-works">How the GreenLeaze Payment Path Integration Works</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/api-implement#api-authentication">API Authentication</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/api-implement#pricing-rules">Pricing Rules</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/api-implement#get-pricing-rules">Get Pricing Rules</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/api-implement#change-pricing-rules">Change Pricing Rules</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/api-implement#send-data-to-greenleaze">Send data to GreenLeaze</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/api-implement#step-1--send-the-order-to-paygreenleazecom">Step 1 : Send the order to pay.greenleaze.com</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/api-implement#step-2--redirect-the-customer-to-paygreenleazecom">Step 2 : Redirect the customer to pay.greenleaze.com</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/api-implement#step-3--send-back-the-order-id-to-greenleaze">Step 3 : Send back the order id to GreenLeaze</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/api-implement#ressources">Ressources</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/api-implement">API</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/shopify-implement">Shopify</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tutorial-prestashop/soon">PrestaShop</a></li></ul></div><div class="col footer__col"><div class="footer__title">Website</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://greenleaze.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Greenleaze</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 GreenLeaze</div></div></div></footer></div>
</body>
</html>